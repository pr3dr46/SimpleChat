function User(name){
	var messages = [];

	this.name = name;

	function getName(){
		return this.name;
	}
}

var users = new Array();

function addUser(name){
   for (var i = 0; i < users.length; i++) {
   	if (users[i].getName() == name)
   		throw "User cannot be added";
    };

	var user = new User(name);

	users.push(user);
}

function deleteUser(name){
	var index = -1;
	for (var i = 0; i < users.length; i++) {
   		if (users[i].getName() == name){
   			index = i;
   	    	break;
   	    }
    };

    if (index > -1)
    	users.splice(index, 1);
}

function getUsers(){
	return users.slice();
}

module.exports = {
	addUser: addUser,
	deleteUser: deleteUser,
	getUsers: getUsers
}